<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>🍴 My Fun Recipe Book & Meal Planner</title>

<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg, #fff7e6, #ffe8ec);
    margin: 0;
    color: #333;
  }
  header {
    background: #ff6b6b;
    color: white;
    text-align: center;
    padding: 1.5rem;
    font-size: 1.8rem;
    letter-spacing: 1px;
  }
  nav {
    display: flex;
    justify-content: center;
    background: #ffb6b9;
    padding: 0.5rem;
    gap: 1rem;
  }
  nav button {
    background: white;
    border: none;
    padding: 0.7rem 1.2rem;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.3s;
  }
  nav button:hover {
    background: #fff7f8;
    transform: scale(1.05);
  }
  nav button.active {
    background: #ff6b6b;
    color: white;
  }
  section {
    padding: 1.5rem;
    display: none;
  }
  section.active {
    display: block;
  }
  .form-group {
    margin-bottom: 1rem;
  }
  input, textarea {
    width: 100%;
    padding: 0.6rem;
    border: 2px solid #ffb6b9;
    border-radius: 10px;
  }
  button.add {
    background: #ff6b6b;
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }
  button.add:hover {
    background: #ff8787;
  }
  .recipe-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 1.5rem;
  }
  .recipe-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: 0.3s;
  }
  .recipe-card:hover {
    transform: scale(1.03);
  }
  .recipe-card img {
    width: 100%;
    height: 140px;
    object-fit: cover;
  }
  .recipe-card-content {
    padding: 1rem;
  }
  .recipe-card h3 {
    margin: 0;
    font-size: 1.2rem;
    color: #ff6b6b;
  }
  .recipe-card button {
    background: #ffb6b9;
    border: none;
    border-radius: 10px;
    padding: 0.4rem 0.8rem;
    margin-top: 0.6rem;
    cursor: pointer;
  }
  #meal-planner {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
  }
  .day {
    background: white;
    border-radius: 15px;
    min-height: 200px;
    padding: 1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  .day h4 {
    margin-top: 0;
    color: #ff6b6b;
  }
  .draggable {
    background: #ffe5ec;
    margin: 0.3rem 0;
    padding: 0.4rem;
    border-radius: 10px;
    cursor: grab;
  }
  footer {
    text-align: center;
    padding: 1rem;
    background: #ff6b6b;
    color: white;
    margin-top: 2rem;
  }
</style>
</head>

<body>
  <header>🍓 My Fun Recipe Book & Meal Planner 🍔</header>

  <nav>
    <button id="nav-home" class="active">🏠 Home</button>
    <button id="nav-add">➕ Add Recipe</button>
    <button id="nav-book">📖 Recipe Book</button>
    <button id="nav-meal">🗓️ Meal Planner</button>
  </nav>

  <section id="home-section" class="active">
    <h2>Welcome!</h2>
    <p>Use this fun and colorful app to save your favorite recipes and plan your meals for the week!</p>
    <p>🍕 Click <strong>Add Recipe</strong> to add new dishes</p>
    <p>📖 View them in your <strong>Recipe Book</strong></p>
    <p>🗓️ Drag them into your <strong>Meal Planner</strong> to organize your week</p>
  </section>

  <section id="add-section">
    <h2>➕ Add a New Recipe</h2>
    <form id="add-form">
      <div class="form-group">
        <label>Recipe Name</label>
        <input type="text" id="title" required />
      </div>
      <div class="form-group">
        <label>Ingredients</label>
        <textarea id="ingredients" rows="3" required></textarea>
      </div>
      <div class="form-group">
        <label>Instructions</label>
        <textarea id="instructions" rows="3" required></textarea>
      </div>
      <button type="submit" class="add">Add Recipe</button>
    </form>
  </section>

  <section id="book-section">
    <h2>📖 My Recipe Book</h2>
    <div id="recipes" class="recipe-list"></div>
  </section>

  <section id="meal-section">
    <h2>🗓️ Weekly Meal Planner</h2>
    <div id="meal-planner"></div>
  </section>

  <footer>🍰 Made with love and snacks</footer>

<script>
  const navButtons = document.querySelectorAll('nav button');
  const sections = document.querySelectorAll('section');
  const recipesDiv = document.getElementById('recipes');
  const mealPlanner = document.getElementById('meal-planner');

  const days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];
  let recipes = JSON.parse(localStorage.getItem('recipes')) || [];
  let mealPlan = JSON.parse(localStorage.getItem('mealPlan')) || {};

  const foodPics = [
    "https://images.unsplash.com/photo-1604908811709-8f4e88cd9f7c",
    "https://images.unsplash.com/photo-1504674900247-0877df9cc836",
    "https://images.unsplash.com/photo-1551218808-94e220e084d2",
    "https://images.unsplash.com/photo-1586190848861-99aa4a171e90",
    "https://images.unsplash.com/photo-1512058564366-18510be2db19",
    "https://images.unsplash.com/photo-1504674900247-0877df9cc836",
    "https://images.unsplash.com/photo-1504674900247-0877df9cc836"
  ];

  function showSection(id) {
    sections.forEach(s => s.classList.remove('active'));
    navButtons.forEach(b => b.classList.remove('active'));
    document.getElementById(id + '-section').classList.add('active');
    document.getElementById('nav-' + id).classList.add('active');
    if (id === 'book') renderBook();
    if (id === 'meal') renderMealPlanner();
  }

  navButtons.forEach(btn => {
    btn.addEventListener('click', () => showSection(btn.id.replace('nav-','')));
  });

  document.getElementById('add-form').addEventListener('submit', e => {
    e.preventDefault();
    const title = document.getElementById('title').value;
    const ingredients = document.getElementById('ingredients').value;
    const instructions = document.getElementById('instructions').value;
    const image = foodPics[Math.floor(Math.random() * foodPics.length)];
    recipes.push({ title, ingredients, instructions, image });
    localStorage.setItem('recipes', JSON.stringify(recipes));
    e.target.reset();
    alert("🍴 Recipe added!");
    showSection('book');
  });

  function renderBook() {
    recipesDiv.innerHTML = '';
    if (recipes.length === 0) {
      recipesDiv.innerHTML = '<p>No recipes yet! Add some delicious ones 🍕</p>';
      return;
    }
    recipes.forEach((r, i) => {
      const div = document.createElement('div');
      div.className = 'recipe-card';
      div.innerHTML = `
        <img src="${r.image}" alt="${r.title}">
        <div class="recipe-card-content">
          <h3>${r.title}</h3>
          <p><strong>Ingredients:</strong> ${r.ingredients}</p>
          <p><strong>Instructions:</strong> ${r.instructions}</p>
          <button onclick="deleteRecipe(${i})">🗑️ Delete</button>
        </div>
      `;
      recipesDiv.appendChild(div);
    });
  }

  function deleteRecipe(index) {
    if (confirm("Delete this recipe?")) {
      recipes.splice(index, 1);
      localStorage.setItem('recipes', JSON.stringify(recipes));
      renderBook();
    }
  }

  function renderMealPlanner() {
    mealPlanner.innerHTML = '';
    days.forEach(day => {
      const div = document.createElement('div');
      div.className = 'day';
      div.dataset.day = day;
      div.innerHTML = `<h4>${day}</h4>`;
      const meals = mealPlan[day] || [];
      meals.forEach(idx => {
        const r = recipes[idx];
        if (r) {
          const card = document.createElement('div');
          card.className = 'draggable';
          card.textContent = r.title;
          div.appendChild(card);
        }
      });
      div.addEventListener('dragover', e => e.preventDefault());
      div.addEventListener('drop', e => handleDrop(e, day));
      mealPlanner.appendChild(div);
    });

    const pool = document.createElement('div');
    pool.className = 'day';
    pool.innerHTML = "<h4>Recipe Pool</h4>";
    recipes.forEach((r, i) => {
      const dragItem = document.createElement('div');
      dragItem.className = 'draggable';
      dragItem.draggable = true;
      dragItem.textContent = r.title;
      dragItem.dataset.index = i;
      dragItem.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', i));
      pool.appendChild(dragItem);
    });
    mealPlanner.prepend(pool);
  }

  function handleDrop(e, day) {
    const index = e.dataTransfer.getData('text/plain');
    if (!mealPlan[day]) mealPlan[day] = [];
    mealPlan[day].push(index);
    localStorage.setItem('mealPlan', JSON.stringify(mealPlan));
    renderMealPlanner();
  }

  renderBook();
  renderMealPlanner();
</script>
</body>
</html>
